//@import "blueprint/typography";

@mixin rebase-headings($multiplier: 3, $line-height: 2) {
    $heading: 1;
    @while $heading <= 6 {
        h#{$heading} {
            @include adjust-font-size-to($base-font-size * $multiplier, $lines:$line-height);
        }
        $multiplier: $multiplier - 0.5;
        $heading: $heading + 1;
        $line-height: $line-height - ( 1 / 6 );
    }
}

@include establish-baseline;


body {
    font-family: $blueprint-font-family;
}


article,section {
    @include rebase-headings(3,2);
    sub, sup {
        /* Specified in % so that the sup/sup is the
           right size relative to the surrounding text */
        font-size: 75%;
        
        /* Zero out the line-height so that it doesn't
           interfere with the positioning that follows */
        line-height: 0;
        
        /* Where the magic happens: makes all browsers position
           the sup/sup properly, relative to the surrounding text */
        position: relative;
        
        /* Note that if you're using Eric Meyer's reset.css, this
           is already set and you can remove this rule */
        vertical-align: baseline;
    }
    
    sup {
        /* Move the superscripted text up */
        top: -0.5em;
    }

    sub {
        /* Move the subscripted text down, but only
           half as far down as the superscript moved up */
        bottom: -0.25em;
    }

    em {
        font-style: italic;
    }
    dt {
        font-weight: bold;
    }
    #content {
        @include rebase-headings(3,2);
    }
    aside {
        @include rebase_headings(1.5,1);
    }
    @include trailer();
}

blockquote {
    @include leader;
    @include trailer;
    font-style: italic;

    padding-left: 1em;
    padding-right: 1em;

    //quotes:"\201C""\201D""\2018""\2019";
    quotes:"\201C""\201D";
    &:before {
        content:open-quote;
        font-size:4em;
        line-height:.1em;
        margin-right:.25em;
        vertical-align:-.4em;
    }
    
    p:first-of-type {
        display: inline;
    }

    p:nth-of-type(2) {
        @include leader;
    }

    em {
        font-style: normal;
        font-weight: bold;
    }

    cite {
        font-size: em(14px);
        display: block;
        margin-top: em(5px);
        &:before {
            content: "\2014 \2009";
        }
    }
    
}
