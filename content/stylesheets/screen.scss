// This import applies a global reset to any page that imports this stylesheet.
@import "compass";
@import "compass/reset";

@import "compass/css3";
@import "compass/utilities";

@import "blueprint/reset";
@import "blueprint";
@import "blueprint/typography";

// To configure blueprint, edit the partials/base.sass file.
@import "partials/base";
@import "partials/bars";

@mixin susy-grid-background {
    @include grid-background($total-cols, $col-width, $gutter-width, $base-line-height, $side-gutter-width, $force-fluid: true);
}

@mixin full {
    @include span-columns($total-columns);
}

@mixin rebase-headings($multiplier: 3, $line-height: 2) {
    $heading: 1;
    @while $heading <= 6 {
        h#{$heading} {
            @include adjust-font-size-to($base-font-size * $multiplier, $lines:$line-height);
        }
        $multiplier: $multiplier - 0.5;
        $heading: $heading + 1;
        $line-height: $line-height - ( 1 / 6 );
    }
}

// extend this class to show your grid.
.grid {
    @include susy-grid-background;
}
@include establish-baseline;

@include blueprint;
@include blueprint-typography;

body {
    a {
        @include link-colors($blue);
    }
    a {
        @include hover-link;
    }

    #container {
        @include container;
        //@extend .grid;
        @include clearfix;
        //@extend .grid;
        >header, >footer {
            @include bars($base03);
            @include full;
            height: 60px;

            @include rem(padding-top, 10px);
            a {
                &:hover { text-decoration: none; }
            }
            h1,h2 {
                color: $base1;
                padding-right: 10px;
            }
            h1 {
                @include adjust-font-size-to($base-font-size * 1.5, $lines:1);
            }                
            h2 {
                @include adjust-font-size-to($base-font-size * 1, $lines:1);
                font-style: italic;
            }
        }

        %sidenav {
            // One third of the grid columns, rounding down. With 24 cols, this is 8.
            @include leader;
            h1 {
                //@include trailer;
                @include adjust-font-size-to($base-font-size * 1.5, $lines:1);
            }
            $sidebar-columns: floor($total-columns / 3);
            @include span-columns($sidebar-columns);
        }

        nav {
            @extend %sidenav;
            @include accentize($orange);
        }
    /*
        nav#about {
            @include full;
            ul {
                @include horizontal-list;
            }
            @include accentize($orange);
        }
        */
    }

    Section#content {
        // Two thirds of the grid columns, rounding up.
        // With 24 cols, this is 16.
        $content-columns: ceil(2 * $total-columns / 3);
        @include span-columns($content-columns omega);

        a { 
            text-decoration: none;
        }
        
        @include rebase-headings(3,2);
    }

    %alert {
        @include border-radius(5px);       
        padding: .75em;
        @include leader;
    }

    .notice {
        @extend %alert;
        //background: lighten($yellow, 20%);
    }

    .error {
        @extend %alert;
        //background: $red;
    }
}
    @import "partials/article"
